<app-page-header></app-page-header>


<ion-content>
  <ion-grid class="psychological-box">
    <ion-row>
      <ion-col>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-grid>
                <ion-row class="psychological-header">
                  <ion-col>
                    <ion-grid>
                      <ion-row>
                        <ion-col>
                          <ion-grid>
                            <ion-row class="pdB1vh">
                              <ion-col>
                                <span class="psychological-fon3">{{surveyList.surveyInfo.surveyCategoryName}}</span>
                              </ion-col>
                              <ion-col class="text_right">
                                <span class="psychological-fon4">{{surveyList.surveyInfo.completeCount}} / {{surveyList.surveyInfo.totalCount}}</span>
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                        </ion-col>
                      </ion-row>
                      <ion-row>
                        <ion-col>
                          <ion-progress-bar value="{{getPercent('SURVEY', null)}}" class="psychological-progress"></ion-progress-bar>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
        </ion-grid>
        <ion-grid class="psychological-part1">
          <ion-row class="pd5vw" [ngClass]="item.surveySkip === 'N'? 'psychological-list-box' : 'psychological-list-box_disable'" *ngFor="let item of surveyList.subSurveyInfo"
          >
            <ion-col>
              <ion-grid>
                <ion-row *ngIf="item.surveySkip === 'N'">
                  <ion-item-sliding>
                    <ion-item-options side="start">
                      <ion-item-option color="danger" (click)="showConfirmAlert(item, 'STOP')" class="scale-sliding-button">
                        <span class="scale-sliding-button-font">설문 중단하기</span>
                      </ion-item-option>
                    </ion-item-options>
                    <ion-item class="scale-sliding-ion-item" (click)="startSurvey(item)">
                      <ion-col size="10.5">
                        <ion-grid>
                          <ion-row>
                            <ion-col>
                              <ion-grid>
                                <ion-row class="pdB1vh">
                                  <ion-col size="8">
                                    <span class="psychological-fon1">{{item.surveyTitleKO}}</span>
                                  </ion-col>
                                  <ion-col class="text_right" size="4">
                                    <span class="psychological-fon2">{{item.completeCount}} / {{item.totalCount}}</span>
                                  </ion-col>
                                </ion-row>
                              </ion-grid>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col>
                              <ion-progress-bar value="{{getPercent('SUB_SURVEY', item)}}" class="psychological-progress"></ion-progress-bar>
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </ion-col>
                      <ion-col size="1.5">
                        <ion-grid class="height100Per">
                          <ion-row class="height100Per psychological-imgBox">
                            <ion-col>
                              <img src="assets/image/psychological/Icon_plus.svg" class="plus-img">
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </ion-col>
                    </ion-item>
                  </ion-item-sliding>
                </ion-row>
                <ion-row *ngIf="item.surveySkip === 'Y'" (click)="showConfirmAlert(item, 'RE_PROGRESS')" class="pdL4vw">
                  <ion-col size="10.5">
                    <ion-grid>
                      <ion-row>
                        <ion-col>
                          <ion-grid>
                            <ion-row class="pdB1vh">
                              <ion-col size="8">
                                <span class="psychological-fon1_disable">{{item.surveyTitleKO}}</span>
                              </ion-col>
                              <ion-col class="text_right"  size="4">
                                <span class="psychological-fon2_disable">{{item.completeCount}} / {{item.totalCount}}</span>
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                        </ion-col>
                      </ion-row>
                      <ion-row>
                        <ion-col>
                          <ion-progress-bar value="{{getPercent('SUB_SURVEY', item)}}" class="psychological-progress_disable"></ion-progress-bar>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-col>
                  <ion-col size="1.5">
                    <ion-grid class="height100Per">
                      <ion-row class="height100Per psychological-imgBox_disable">
                        <ion-col>
                          <img src="assets/image/psychological/Icon_plus_disabled.svg" class="plus-img">
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>

          </ion-row>
<!--          <ion-row class="pd5vw psychological-list-box">
            <ion-col size="10.5">
              <ion-grid>
                <ion-row>
                  <ion-col>
                    <ion-grid>
                      <ion-row class="pdB1vh">
                        <ion-col>
                          <span class="psychological-fon1">기분</span>
                        </ion-col>
                        <ion-col class="text_right">
                          <span class="psychological-fon2">1 / 3</span>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-progress-bar value="0.5" class="psychological-progress"></ion-progress-bar>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
            <ion-col size="1.5">
              <ion-grid class="height100Per">
                <ion-row class="height100Per">
                  <ion-col class="psychological-imgBox">
                    <img src="assets/image/psychological/Icon_plus.svg" class="plus-img">
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>
          <ion-row class="pd5vw psychological-list-box">
            <ion-col size="10.5">
              <ion-grid>
                <ion-row>
                  <ion-col>
                    <ion-grid>
                      <ion-row class="pdB1vh">
                        <ion-col>
                          <span class="psychological-fon1">기분</span>
                        </ion-col>
                        <ion-col class="text_right">
                          <span class="psychological-fon2">1 / 3</span>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-progress-bar value="0.5" class="psychological-progress"></ion-progress-bar>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
            <ion-col size="1.5">
              <ion-grid class="height100Per">
                <ion-row class="height100Per">
                  <ion-col class="psychological-imgBox">
                    <img src="assets/image/psychological/Icon_plus.svg" class="plus-img">
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-row>-->
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
